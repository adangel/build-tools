<?xml version="1.0" encoding="UTF-8"?>
<project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>pmd</groupId>
  <artifactId>pmd-build</artifactId>
  <name>PMD</name>
  <version>0.4</version>
  <packaging>maven-plugin</packaging>
  <description>
    <![CDATA[
This small subproject regroup most of the stuff needed to build pmd.
As some java code has been produced to reduce the use of scripts when
generating the website, the build also requires a small jar, which is
generated by this pom.

IMPORTANT NOTE: the pmd-build.jar does not need to be recompile if you
modify any ant or xslt files. You can alter the files that are in the
xslt directory and directly uses the appropriate ant or java task.
pmd-build should be recompiled and package (and its version incrememented)
only if you modify the java code.
    ]]>
  </description>
  <url>http://pmd.sourceforge.net/</url>
  <inceptionYear>2008</inceptionYear>
  <developers>
    <developer>
      <id>rpelisse</id>
      <name>Romain Pelisse</name>
      <email>rpelisse@users.sourceforge.net</email>
      <roles>
        <role>Developer</role>
      </roles>
    </developer>
  </developers>
  <build>
    <sourceDirectory>src</sourceDirectory>
    <testSourceDirectory>test</testSourceDirectory>
    <resources>
      <resource>
        <directory>${basedir}</directory>
        <includes>
          <include>xslt/**/*.xsl</include>
        </includes>
      </resource>
      <resource>
            <directory>${basedir}/src</directory>
	    	<includes>
	            <include>**/*.properties</include>
	    </includes>
       </resource>
     </resources>
     <plugins>
       <plugin>
         <artifactId>maven-compiler-plugin</artifactId>
         <version>2.3.2</version>
         <configuration>
           <source>1.6</source>
           <target>1.6</target>
         </configuration>
       </plugin>
    </plugins>
  </build>
  <dependencies>
    <dependency>
      <groupId>org.apache.ant</groupId>
      <artifactId>ant</artifactId>
      <version>1.8.2</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.8.2</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.apache.maven</groupId>
      <artifactId>maven-plugin-api</artifactId>
      <version>2.0</version>
      <scope>provided</scope>
    </dependency>
  </dependencies>


  <reporting>
    <plugins>
		<plugin>
	        <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-pmd-plugin</artifactId>
        	<configuration>
				<linkXref>true</linkXref>
				<sourceEncoding>utf-8</sourceEncoding>
				<minimumTokens>100</minimumTokens>
				<targetJdk>1.6</targetJdk>
				<rulesets>
            		<ruleset>http://pmd.svn.sourceforge.net/svnroot/pmd/trunk/pmd/rulesets/internal/dogfood.xml</ruleset>
				</rulesets>
        	</configuration>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <version>2.8</version>
        <configuration>
          <configLocation>etc/checkstyle-config.xml</configLocation>
        </configuration>
      </plugin>
    </plugins>
  </reporting>

</project>

